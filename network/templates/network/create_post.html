{% extends "network/layout.html" %}
{% block title %}Post{% endblock %}

{% block content %}
<div class="create-post-component">
    <div class="new-post-container">
        <h2>Create Post</h2>
        <form action="" method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">New Post</legend>
                {{form.media}}
            </fieldset>
            <button type="submit" class="btn btn-primary">Post</button>
        </form>
    </div>
</div>

    {% for post in posts %}
    <div class="post">
        <p>{{ post.user.username }}: {{ post.content }}</p>
        <button id="like-btn-{{ post.id }}" onclick="toggleLike({{ post.id }})">Like</button>
        <span id="likes-count-{{ post.id }}">{{ post.likes_count }}</span>
    </div>
    {% endfor %}
{% endblock %}
